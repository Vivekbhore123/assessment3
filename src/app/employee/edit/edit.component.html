<br>
<br>
<br>


<div class="container">
  <div class="row">
    <mat-card class="mb-5">

      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <h1 style="font-weight:bolder;" class="mt-3">Edit Employee Details</h1>
          </div>
          <div class="col-md-6">

          </div>
          <div class="col-md-2">
            <button class="btn btn-sm mt-3" mat-raised-button color="accent" routerLink="/emplist">Return</button>
          </div>
        </div>
      </div>

      <form #personForm="ngForm" (ngSubmit)="savePerson(personForm)">
        <div class="colr container">
          <div class="row">

            <div class="col-md-4 form-group">


              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Name</mat-label>
                <input required id="fname" type="text" name="fname" #firstName="ngModel" [(ngModel)]="dataTofill.fname"
                  matInput>
                <mat-error *ngIf="firstName.invalid">
                  firstName is <strong>required</strong>
                </mat-error>
              </mat-form-field>

            </div>
            <div class="col-md-4 form-group">

              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Middle Name</mat-label>
                <input required id="mname" value="dataTofill.mname" type="text" name="mname" #middleName="ngModel"
                  [(ngModel)]="dataTofill.mname" matInput>
                <mat-error *ngIf="middleName.invalid">
                  middleName is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="col-md-4 form-group">


              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Last Name</mat-label>
                <input required id="lname" type="text" value="dataTofill.lname" name="lname" #lastName="ngModel"
                  [(ngModel)]="dataTofill.lname" matInput>
                <mat-error *ngIf="lastName.invalid">
                  lastName is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <div class="row">

            <div class="col-md-4 form-group">

              <mat-form-field class="example-full-width" appearance="fill">
                <label for="dob">Date of Birth</label>
                <input type="date" name="dob" id="dob" aria-describedby="dob" placeholder="Enter dob"
                  [(ngModel)]="dataTofill.dob" matInput>

              </mat-form-field>






            </div>


            <div class="col-md-4 form-group">
              <!-- <label for="gender">Gender</label> -->

              <mat-form-field appearance="fill">
                <mat-label>Gender</mat-label>
                <mat-select selectValidate name="gender" #mygender="ngModel" [(ngModel)]="dataTofill.gender">
                  <mat-option *ngFor="let g of genders" [value]="g.Text">
                    {{g.Text}}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="mygender.errors?.['defaultSelected']">
                  Gender is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="col-md-4 form-group">


              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Age</mat-label>
                <input required type="text" name="age" id="age" #ageValidate="ngModel" selectAgeValidate
                  [(ngModel)]="dataTofill.age" matInput>
                <mat-error *ngIf="ageValidate.errors?.['defaultSelected']">
                  invalid <strong>age</strong>
                </mat-error>
              </mat-form-field>
            </div>
          </div>


          <div class="row">



            <div class="col-md-6 form-group">
              <mat-form-field class="example-full-width addressw" appearance="fill">
                <label for="address1">Address1</label>
                <input required type="text" name="address1" #addressControl="ngModel" [(ngModel)]="dataTofill.address1"
                  id="address1" placeholder="address1" matInput>
                <mat-error *ngIf="addressControl.invalid && addressControl.value==''">
                  Address1 is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>

            <div class="col-md-6 form-group">
              <mat-form-field class="example-full-width addressw" appearance="fill">
                <label for="address2">Address2</label>
                <input required type="text" name="address2" #addressControl="ngModel" [(ngModel)]="dataTofill.address2"
                  id="address2" placeholder="address2" matInput>
                <mat-error *ngIf="addressControl.invalid && addressControl.value==''">
                  Address2 is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>




          </div>


          <div class="row">

            <div class="col-md-4 form-group">
              <!-- <label for="exampleInputName1">Country</label> -->

              <mat-form-field appearance="fill">
                <mat-label>Select Country</mat-label>
                <mat-select name="country" [(ngModel)]="dataTofill.country">
                  <mat-option *ngFor="let c of countryArray" (click)="detectCountryChange($event)" [value]="c.value">
                    {{c.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-4 form-group">
              <!-- <label for="exampleInputPassword1">State</label> -->

              <mat-form-field appearance="fill">
                <mat-label>Select state</mat-label>
                <mat-select name="state" [(ngModel)]="dataTofill.state">
                  <mat-option (click)="detectStateChange($event)"
                    *ngFor="let state of (countryArray[countryIndex].states)" [value]="state.value">
                    {{state.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <div class="col-md-4 form-group">
              <!-- <label for="exampleInputEmail1">City</label> -->

              <mat-form-field appearance="fill">
                <mat-label>City</mat-label>
                <mat-select name="city" [(ngModel)]="dataTofill.city">
                  <mat-option *ngFor="let city of  (countryArray[countryIndex].states[stateIndex].cities)"
                    [value]="city.value">
                    {{city.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>


          <div class="row">

            <div class="col-md-4 form-group">


              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Pin</mat-label>
                <input required id="pin" type="text" name="pin" #pinValidate="ngModel" selectPinValidate
                  placeholder="Enter pin" [(ngModel)]="dataTofill.pin" matInput>
                <mat-error *ngIf="pinValidate.errors?.['defaultSelected']">
                  invalid <strong>pin</strong>
                </mat-error>
              </mat-form-field>

            </div>

            <div class="col-md-4 form-group">


              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Email</mat-label>
                <input required email id="email" type="email" name="email" #emailControl="ngModel"
                  placeholder="Enter email" [(ngModel)]="dataTofill.email" matInput>
                <mat-error *ngIf="emailControl.invalid && emailControl.value==''">
                  Email is <strong>required</strong>
                </mat-error>
                <mat-error *ngIf="emailControl.errors?.['email']">
                  Email is <strong>incorrect</strong>
                </mat-error>
              </mat-form-field>

            </div>

            <div class="col-md-4 form-group">


              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Contact</mat-label>
                <input required id="contact" maxlength="10" type="text" name="contact" #contactControl="ngModel"
                  placeholder="Enter contact" [(ngModel)]="dataTofill.contact" matInput>
                <mat-error *ngIf="contactControl.invalid && contactControl.value==''">
                  Contact is <strong>required</strong>
                </mat-error>
              </mat-form-field>

            </div>




          </div>

          <div class="row">
            <div class="col-md-4">
              <mat-form-field appearance="fill">
                <mat-label>UserType</mat-label>
                <mat-select selectValidate name="userType" #mygender="ngModel" [(ngModel)]="dataTofill.userType">
                  <mat-option *ngFor="let g of usertypes" [value]="g.Text">
                    {{g.Text}}
                  </mat-option>
                </mat-select>
                <mat-error *ngIf="mygender.errors?.['defaultSelected']">
                  userType is <strong>required</strong>
                </mat-error>
              </mat-form-field>

            </div>
          </div>

          <div class="row">
            <div class="col-md-3">
              <button type="submit" (click)="doProcess()" class="btn btn-success">Submit</button>

            </div>
          </div>
        </div>

      </form>
    </mat-card>
  </div>
</div>




<!-- 
<h4>Basic mat-select</h4>
<mat-form-field appearance="fill">
  <mat-label>Favorite food</mat-label>
  <mat-select>
    <mat-option *ngFor="let food of foods" [value]="food.value">
      {{food.viewValue}}
    </mat-option>
  </mat-select>
</mat-form-field> -->


<!-- <button mat-button (click)="openDialog()">Launch dialog</button> -->

<!-- <app-modelapproach></app-modelapproach> -->